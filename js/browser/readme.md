# 浏览器底层

- 当打开 chrome 浏览器 的时候，发生了什么
    启动了一个主进程 process（分配资源的最小单位）-> 唯一的进程ID
        上网的代理程序
    线程 thread（执行程序的最小单位）
- 为什么是研究 chrome？
    chrome 最优秀、市场占有率最高的浏览器
- 浏览器的主要功能
    子进程：
   - html/css 渲染页面（render）
   - v8 引擎 JS 执行
        单线程 简单
   - 网络下载（network） 
        通信

- chrome 是多进程多线程架构
   - 主进程 browser 
    负责管理和调度的
       - GPU进程 高级渲染（显卡） 显示、渲染（3D渲染）
            animation transition translate3D
       - network 网络进程
       - storage 本地存储进程 缓存 LocalStorage Cookie 前端数据库
        
       - 标签页 是独立的子进程   
           - 渲染进程 render 渲染引擎 webkit
           - JS 执行进程 v8引擎
                JS 单线程（主线程）-> 执行 JS 代码

- 进程
    分配资源的最小单位
    每个 tab 页是个独立的进程 -> 虽然内存开销大
    但是每个页面显示更快、更安全
    因为如果进程/线程 奔溃的话 所有页面都玩完

    当年 ie 浏览器动不动就崩溃 -> 多 tab 多进程来做隔离

- 单线程
    同步任务（sync）
    异步任务（async）放到 event loop中
- 多线程 并行处理
    线程共享进程资源 

- 当一个进程关闭之后，操作系统会回收进程所占用的内存
- 每一个进程只能访问自己占有的数据，不能访问其他进程的数据。如果崩溃了也不会影响其他进程的运行。如果进程之间需要进行数据通信（IPC）机制来实现。

## 单进程浏览器 ie 

## chrome 多进程架构
- 浏览器进程
    主要负责界面显示（浏览器软件界面）、用户交互、子进程管理、同时提供存储等功能
- 渲染进程
    核心任务是将 HTML、css、JavaScript 转换为用户可以与之交互的网页
    排版引擎Blink 和 JS v8引擎 都运行在这里
    默认情况，chrome 会为每个Tab标签创建一个渲染进程。
- GPU进程
    早期是没有的。GPU使用的初衷是为了实现3D css效果
    网页、UI 都采用GPU来绘制。会使用 显卡的加速
- 网络进程
    负责页面的网络资源加载，独立的进程
- 插件进程
    flash、chrome extension

- 当打开一个页面，为什么会有多个进程？有哪些进程？